{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 35,
  "summary": "A full-featured car enthusiast social media app inspired by Instagram, built exclusively for car culture. Includes a feed, reels, follow/unfollow system, direct messaging, user profiles, mechanics help section, build showcases with photos, a marketplace for buying/selling car parts, car meet events, likes, comments, a discovery page, and the ability for users to delete their own posts and reels.",
  "architectural_notes": [
    "Social media platform exclusively for car culture — Instagram-inspired UI/UX",
    "Core entities: Users, Posts, Reels, Comments, Likes, Follows, Messages, Events, Builds",
    "Media-heavy app requiring image and video upload/storage support",
    "App has a gated landing page — users must press login before accessing the main app",
    "Marketplace entity needed: listings (id, sellerId, title, description, price, imageUrls, category, status, createdAt)",
    "Reels support category tags: Street, Stance, JDM, Drift, and other car culture subgenres — stored on the post/reel entity",
    "Larger media uploads may require chunked upload strategy or asset canister (ICP) to bypass the ~2 MB ingress message limit"
  ],
  "known_issues": [
    "App header/topbar still displays 'CarGram' instead of the preferred 'RevReel' branding",
    "Follow/unfollow button is missing or not visible next to the profile picture on the user profile page",
    "CreateReelPage is missing the video/file upload input — users cannot upload a video when creating a reel",
    "Post/reel creation flow gets stuck in a loading state and does not complete the upload — users cannot successfully submit new posts",
    "Discovery/Explore page is missing or not accessible — users cannot navigate to it from the bottom nav or any other entry point"
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-design-and-apply-a-cohesive-visual-theme-throughout-the-entire-app-dark-asphalt-inspired-backgrounds-bold-amber-orange-accent-colors-high-contrast-white-text-racing-stripe-decorative-elements-and-a-gritty-automotive-aesthetic-apply-consistently-across-all-pages-navigation-cards-and-modals",
      "title": "Design and apply a cohesive visual theme throughout the entire app: dark asphalt-inspired backgrounds, bold amber/orange accent colors, high-contrast white text, racing-stripe decorative elements, and a gritty automotive aesthetic. Apply consistently across all pages, navigation, cards, and modals.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-persistent-bottom-navigation-bar-with-five-tabs-home-feed-reels-discover-events-and-profile-each-tab-routes-to-its-respective-page-include-an-upload-post-fab-button-in-the-center-of-the-nav-bar-for-creating-new-content",
      "title": "Build a persistent bottom navigation bar with five tabs: Home (feed), Reels, Discover, Events, and Profile. Each tab routes to its respective page. Include an upload/post FAB button in the center of the nav bar for creating new content.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-home-feed-page-displaying-a-scrollable-vertical-list-of-car-posts-from-followed-users-and-trending-posts-each-post-card-shows-user-avatar-username-car-info-tag-post-image-s-caption-hashtags-like-button-with-count-comment-button-with-count-share-button-and-a-follow-unfollow-button-if-not-the-current-user-support-pull-to-refresh-and-infinite-scroll-pagination",
      "title": "Build a Home Feed page displaying a scrollable vertical list of car posts from followed users and trending posts. Each post card shows: user avatar, username, car info tag, post image(s), caption, hashtags, like button with count, comment button with count, share button, and a follow/unfollow button if not the current user. Support pull-to-refresh and infinite scroll pagination.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-reels-page-with-a-full-screen-vertical-swipe-interface-for-short-form-car-video-image-reel-posts-each-reel-fills-the-screen-with-the-media-overlays-the-username-car-info-caption-and-right-side-action-buttons-like-comment-share-follow-swiping-up-advances-to-the-next-reel",
      "title": "Build a Reels page with a full-screen vertical swipe interface for short-form car video/image reel posts. Each reel fills the screen with the media, overlays the username, car info, caption, and right-side action buttons (like, comment, share, follow). Swiping up advances to the next reel.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-discover-explore-page-with-a-search-bar-and-grid-of-trending-posts-include-tabs-for-all-builds-reels-mechanics-events-show-suggested-users-to-follow-with-follow-buttons-search-queries-filter-posts-and-users-by-keyword-hashtag",
      "title": "Build a Discover/Explore page with a search bar and grid of trending posts. Include tabs for: All, Builds, Reels, Mechanics, Events. Show suggested users to follow with follow buttons. Search queries filter posts and users by keyword/hashtag.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-user-profile-page-showing-cover-photo-profile-picture-display-name-username-bio-car-info-badge-follower-count-following-count-and-a-follow-unfollow-button-if-viewing-another-user-s-profile-include-tabbed-sections-for-posts-builds-and-reels-each-showing-a-grid-of-the-user-s-content-of-that-type-the-current-user-s-own-profile-shows-an-edit-profile-option",
      "title": "Build a User Profile page showing: cover photo, profile picture, display name, username, bio, car info badge, follower count, following count, and a follow/unfollow button (if viewing another user's profile). Include tabbed sections for Posts, Builds, and Reels, each showing a grid of the user's content of that type. The current user's own profile shows an Edit Profile option.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-follow-system-users-can-follow-and-unfollow-other-users-a-followers-list-page-and-following-list-page-should-be-accessible-from-the-profile-each-list-entry-shows-the-avatar-username-and-a-follow-unfollow-button",
      "title": "Build a Follow system: users can follow and unfollow other users. A Followers list page and Following list page should be accessible from the profile. Each list entry shows the avatar, username, and a follow/unfollow button.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-direct-messaging-chat-feature-a-messages-page-listing-all-conversations-showing-the-other-user-s-avatar-username-last-message-preview-and-timestamp-selecting-a-conversation-opens-a-chat-thread-with-a-scrollable-message-history-and-a-message-input-bar-at-the-bottom-messages-are-sent-and-persisted-via-the-backend",
      "title": "Build a Direct Messaging (Chat) feature: a Messages page listing all conversations, showing the other user's avatar, username, last message preview, and timestamp. Selecting a conversation opens a chat thread with a scrollable message history and a message input bar at the bottom. Messages are sent and persisted via the backend.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-mechanics-help-section-as-a-dedicated-page-where-users-can-post-mechanical-questions-with-optional-images-a-description-of-the-issue-and-car-model-year-other-users-can-post-replies-answers-display-questions-in-a-list-with-answer-count-and-a-view-for-full-q-a-threads",
      "title": "Build a Mechanics Help section as a dedicated page where users can post mechanical questions with optional images, a description of the issue, and car model/year. Other users can post replies/answers. Display questions in a list with answer count and a view for full Q&A threads.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-build-showcase-section-where-users-can-create-showcase-posts-with-a-title-description-car-specs-and-a-multi-image-gallery-builds-are-displayed-in-a-dedicated-grid-page-each-build-detail-page-shows-all-images-in-a-swipeable-gallery-specs-table-and-comments-section",
      "title": "Build a Build Showcase section where users can create showcase posts with a title, description, car specs, and a multi-image gallery. Builds are displayed in a dedicated grid page. Each build detail page shows all images in a swipeable gallery, specs table, and comments section.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-car-meets-events-page-listing-upcoming-and-past-car-meet-events-each-event-card-shows-title-image-date-location-description-and-attendee-count-users-can-browse-events-view-event-details-and-create-new-events-include-an-i-m-attending-button-that-increments-the-attendee-count",
      "title": "Build a Car Meets & Events page listing upcoming and past car meet events. Each event card shows: title, image, date, location, description, and attendee count. Users can browse events, view event details, and create new events. Include an 'I'm Attending' button that increments the attendee count.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-comments-sheet-modal-that-opens-when-a-user-taps-the-comment-button-on-any-post-it-should-display-existing-comments-avatar-username-text-timestamp-and-an-input-field-at-the-bottom-to-post-a-new-comment-comments-are-loaded-from-and-saved-to-the-backend",
      "title": "Build a Comments sheet/modal that opens when a user taps the comment button on any post. It should display existing comments (avatar, username, text, timestamp) and an input field at the bottom to post a new comment. Comments are loaded from and saved to the backend.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-create-post-flow-triggered-by-the-center-fab-show-a-bottom-sheet-with-four-options-feed-post-reel-build-showcase-and-mechanic-question-each-option-opens-a-dedicated-creation-form-with-relevant-fields-caption-image-upload-via-url-input-tags-car-info-on-submit-the-new-post-is-saved-to-the-backend-and-appears-in-the-relevant-feed",
      "title": "Build a Create Post flow triggered by the center FAB. Show a bottom sheet with four options: Feed Post, Reel, Build Showcase, and Mechanic Question. Each option opens a dedicated creation form with relevant fields (caption, image upload via URL input, tags, car info). On submit, the new post is saved to the backend and appears in the relevant feed.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-full-screen-landing-page-that-gates-access-to-the-app-the-page-must-display-a-visually-striking-modified-import-car-as-the-background-image-overlay-the-existing-dark-automotive-theme-dark-asphalt-tones-amber-orange-accents-on-top-of-the-background-center-a-prominent-login-button-that-when-tapped-triggers-internet-identity-authentication-only-after-successful-login-does-the-user-proceed-into-the-main-app-unauthenticated-users-landing-on-any-route-should-be-redirected-to-this-landing-page-integrate-this-landing-page-into-the-existing-authgate-flow-in-frontend-src-components-authgate-tsx-by-replacing-or-extending-the-current-unauthenticated-screen-with-this-styled-landing-page",
      "title": "Create a full-screen landing page that gates access to the app. The page must display a visually striking modified import car as the background image. Overlay the existing dark automotive theme (dark asphalt tones, amber/orange accents) on top of the background. Center a prominent 'Login' button that, when tapped, triggers Internet Identity authentication. Only after successful login does the user proceed into the main app. Unauthenticated users landing on any route should be redirected to this landing page. Integrate this landing page into the existing AuthGate flow in frontend/src/components/AuthGate.tsx by replacing or extending the current unauthenticated screen with this styled landing page.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-a-high-quality-background-image-of-a-modified-import-car-e-g-a-lowered-japanese-sports-car-with-aftermarket-body-kit-wide-body-fenders-and-performance-wheels-for-use-as-the-landing-page-background-the-image-should-have-a-dark-moody-cinematic-tone-that-complements-the-app-s-dark-asphalt-theme-and-amber-accent-colors-use-it-as-a-static-asset-at-frontend-public-assets-generated-landing-bg-dim-1920x1080-jpg-and-render-it-as-the-full-screen-background-of-the-landing-page",
      "title": "Generate a high-quality background image of a modified import car (e.g., a lowered Japanese sports car with aftermarket body kit, wide-body fenders, and performance wheels) for use as the landing page background. The image should have a dark, moody, cinematic tone that complements the app's dark asphalt theme and amber accent colors. Use it as a static asset at frontend/public/assets/generated/landing-bg.dim_1920x1080.jpg and render it as the full-screen background of the landing page.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-persistent-aftermarket-car-parts-advertisement-banner-link-on-every-page-of-the-app-all-routes-inside-the-authenticated-layout-that-links-to-https-ebay-com-inf-revreel-mkcid-1-mkrid-711-53200-19255-0-siteid-0-campid-5339143418-toolid-80008-mkevt-1-the-banner-should-open-the-link-in-a-new-tab-and-be-styled-consistently-with-the-app-s-dark-automotive-theme-amber-orange-accents-asphalt-backgrounds-place-it-in-a-non-intrusive-but-visible-position-such-as-a-slim-banner-inside-the-layout-component-frontend-src-components-layout-tsx-between-the-topbar-and-the-main-content-area-or-as-a-fixed-strip-above-the-bottomnav-label-it-clearly-as-shop-aftermarket-parts-or-similar-automotive-relevant-call-to-action-text",
      "title": "Add a persistent aftermarket car parts advertisement banner/link on every page of the app (all routes inside the authenticated Layout) that links to https://ebay.com/inf/revreel?mkcid=1&mkrid=711-53200-19255-0&siteid=0&campid=5339143418&toolid=80008&mkevt=1. The banner should open the link in a new tab and be styled consistently with the app's dark automotive theme (amber/orange accents, asphalt backgrounds). Place it in a non-intrusive but visible position — such as a slim banner inside the Layout component (frontend/src/components/Layout.tsx) between the TopBar and the main content area, or as a fixed strip above the BottomNav. Label it clearly as 'Shop Aftermarket Parts' or similar automotive-relevant call-to-action text.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-all-occurrences-of-cargram-with-revreel-throughout-the-frontend-update-the-page-title-in-frontend-index-html-the-topbar-component-frontend-src-components-topbar-tsx-the-landingpage-component-frontend-src-components-landingpage-tsx-and-any-other-frontend-files-that-display-the-app-name-cargram-to-users",
      "title": "Replace all occurrences of 'CarGram' with 'RevReel' throughout the frontend: update the page title in frontend/index.html, the TopBar component (frontend/src/components/TopBar.tsx), the LandingPage component (frontend/src/components/LandingPage.tsx), and any other frontend files that display the app name 'CarGram' to users.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-user-profile-page-frontend-src-pages-profilepage-tsx-ensure-a-prominent-follow-unfollow-button-is-displayed-when-viewing-another-user-s-profile-the-button-should-be-clearly-visible-in-the-profile-header-area-near-the-follower-following-counts-use-the-app-s-amber-orange-accent-styling-and-correctly-reflect-the-current-follow-state-following-vs-not-following-with-optimistic-ui-updates",
      "title": "On the User Profile page (frontend/src/pages/ProfilePage.tsx), ensure a prominent follow/unfollow button is displayed when viewing another user's profile. The button should be clearly visible in the profile header area (near the follower/following counts), use the app's amber/orange accent styling, and correctly reflect the current follow state (following vs. not following) with optimistic UI updates.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-restrict-direct-messaging-so-that-a-user-can-only-initiate-or-view-a-chat-thread-with-another-user-if-there-is-a-mutual-follow-relationship-i-e-both-users-follow-each-other-or-if-at-least-one-follows-the-other-followers-only-on-the-messagespage-only-show-users-the-current-user-follows-or-is-followed-by-as-available-conversation-partners-on-the-chatthreadpage-if-neither-user-follows-the-other-show-a-locked-restricted-state-with-a-message-indicating-they-must-follow-each-other-to-chat",
      "title": "Restrict direct messaging so that a user can only initiate or view a chat thread with another user if there is a mutual follow relationship (i.e., both users follow each other) OR if at least one follows the other (followers-only). On the MessagesPage, only show users the current user follows or is followed by as available conversation partners. On the ChatThreadPage, if neither user follows the other, show a locked/restricted state with a message indicating they must follow each other to chat.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-createreelpage-frontend-src-pages-createreelpage-tsx-to-replace-or-supplement-the-image-video-url-input-with-a-native-file-input-that-allows-the-user-to-select-a-video-or-image-file-from-their-device-encode-the-file-as-base64-and-submit-it-via-the-backend-createpost-mutation-also-add-a-required-reel-category-selector-with-the-options-street-stance-jdm-drift-build-show-track-import-the-selected-category-must-be-submitted-with-the-post",
      "title": "Update the CreateReelPage (frontend/src/pages/CreateReelPage.tsx) to replace or supplement the image/video URL input with a native file input that allows the user to select a video or image file from their device. Encode the file as base64 and submit it via the backend createPost mutation. Also add a required reel category selector with the options: Street, Stance, JDM, Drift, Build, Show, Track, Import. The selected category must be submitted with the post.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-createfeedpostpage-frontend-src-pages-createfeedpostpage-tsx-to-replace-or-supplement-the-image-url-input-with-a-native-file-input-that-allows-the-user-to-select-an-image-from-their-device-encode-the-selected-image-as-base64-and-submit-it-via-the-backend-createpost-mutation",
      "title": "Update the CreateFeedPostPage (frontend/src/pages/CreateFeedPostPage.tsx) to replace or supplement the image URL input with a native file input that allows the user to select an image from their device. Encode the selected image as base64 and submit it via the backend createPost mutation.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-editprofilemodal-frontend-src-components-editprofilemodal-tsx-to-include-a-profile-picture-upload-field-allow-the-user-to-select-an-image-file-from-their-device-show-a-circular-preview-encode-it-as-base64-and-call-the-updateprofilepic-backend-function-on-save-display-the-uploaded-profile-picture-throughout-the-app-wherever-the-user-s-avatar-is-shown",
      "title": "Update the EditProfileModal (frontend/src/components/EditProfileModal.tsx) to include a profile picture upload field. Allow the user to select an image file from their device, show a circular preview, encode it as base64, and call the updateProfilePic backend function on save. Display the uploaded profile picture throughout the app wherever the user's avatar is shown.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-reelspage-frontend-src-pages-reelspage-tsx-to-display-the-reel-category-badge-e-g-jdm-drift-stance-as-an-overlay-on-each-full-screen-reel-card-style-the-badge-using-the-app-s-amber-asphalt-theme-as-a-small-pill-or-tag-near-the-caption-or-username-area",
      "title": "Update the ReelsPage (frontend/src/pages/ReelsPage.tsx) to display the reel category badge (e.g., 'JDM', 'Drift', 'Stance') as an overlay on each full-screen reel card. Style the badge using the app's amber/asphalt theme as a small pill or tag near the caption or username area.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-that-post-and-reel-deletion-is-accessible-and-functional-from-the-reelspage-the-home-feed-postcard-and-the-profile-page-tabs-posts-reels-builds-the-delete-button-trash-icon-or-three-dot-menu-must-only-be-visible-to-the-post-s-author-tapping-it-shows-a-confirmation-prompt-on-confirmation-it-calls-the-backend-deletepost-and-removes-the-item-from-the-ui-via-react-query-cache-invalidation-this-should-be-verified-reinforced-across-all-three-surfaces",
      "title": "Ensure that post and reel deletion is accessible and functional from the ReelsPage, the Home Feed (PostCard), and the Profile page tabs (Posts, Reels, Builds). The delete button (trash icon or three-dot menu) must only be visible to the post's author. Tapping it shows a confirmation prompt; on confirmation it calls the backend deletePost and removes the item from the UI via React Query cache invalidation. This should be verified/reinforced across all three surfaces.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-postcard-component-frontend-src-components-postcard-tsx-shows-a-delete-button-trash-icon-or-three-dot-menu-option-that-is-only-visible-to-the-post-s-author-tapping-it-shows-an-inline-confirmation-prompt-on-confirmation-it-calls-the-deletepost-backend-mutation-and-invalidates-the-relevant-react-query-caches-to-immediately-remove-the-post-from-the-home-feed",
      "title": "Ensure the PostCard component (frontend/src/components/PostCard.tsx) shows a delete button (trash icon or three-dot menu option) that is only visible to the post's author. Tapping it shows an inline confirmation prompt; on confirmation it calls the `deletePost` backend mutation and invalidates the relevant React Query caches to immediately remove the post from the Home Feed.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-reelspage-frontend-src-pages-reelspage-tsx-shows-a-delete-button-overlay-on-each-full-screen-reel-card-that-is-only-visible-to-the-reel-s-author-tapping-it-shows-a-confirmation-prompt-on-confirmation-it-calls-the-deletepost-backend-mutation-and-removes-the-reel-from-the-feed-via-react-query-cache-invalidation",
      "title": "Ensure the ReelsPage (frontend/src/pages/ReelsPage.tsx) shows a delete button overlay on each full-screen reel card that is only visible to the reel's author. Tapping it shows a confirmation prompt; on confirmation it calls the `deletePost` backend mutation and removes the reel from the feed via React Query cache invalidation.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-profile-page-frontend-src-pages-profilepage-tsx-in-all-three-tabs-posts-reels-and-builds-shows-a-delete-button-on-each-content-card-in-the-current-user-s-own-profile-grid-tapping-it-shows-a-confirmation-prompt-on-confirmation-it-calls-the-deletepost-backend-mutation-and-removes-the-item-from-the-grid-via-react-query-cache-invalidation",
      "title": "Ensure the Profile page (frontend/src/pages/ProfilePage.tsx) in all three tabs — Posts, Reels, and Builds — shows a delete button on each content card in the current user's own profile grid. Tapping it shows a confirmation prompt; on confirmation it calls the `deletePost` backend mutation and removes the item from the grid via React Query cache invalidation.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-user-profile-page-frontend-src-pages-profilepage-tsx-place-a-prominent-follow-unfollow-button-directly-next-to-or-immediately-below-the-profile-picture-in-the-profile-header-the-button-must-be-clearly-visible-at-all-times-when-viewing-another-user-s-profile-styled-with-the-app-s-amber-orange-accent-colors-consistent-with-the-existing-design-system-and-must-correctly-reflect-the-current-follow-state-follow-vs-following-tapping-it-toggles-the-follow-state-with-optimistic-ui-updates-the-button-must-not-appear-when-the-current-user-is-viewing-their-own-profile",
      "title": "On the User Profile page (frontend/src/pages/ProfilePage.tsx), place a prominent follow/unfollow button directly next to (or immediately below) the profile picture in the profile header. The button must be clearly visible at all times when viewing another user's profile, styled with the app's amber/orange accent colors (consistent with the existing design system), and must correctly reflect the current follow state ('Follow' vs 'Following'). Tapping it toggles the follow state with optimistic UI updates. The button must not appear when the current user is viewing their own profile.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-usesearchreels-react-query-hook-in-frontend-src-hooks-usequeries-ts-that-calls-the-backend-searchreels-function-with-a-query-string-and-returns-the-matching-reel-posts",
      "title": "Add a `useSearchReels` React Query hook in `frontend/src/hooks/useQueries.ts` that calls the backend `searchReels` function with a query string and returns the matching reel posts.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-reels-search-page-at-frontend-src-pages-reelssearchpage-tsx-the-page-must-include-1-a-prominent-search-input-bar-styled-with-the-app-s-dark-asphalt-amber-theme-2-a-row-of-quick-filter-category-pill-buttons-for-the-reel-categories-street-stance-jdm-drift-build-show-track-import-that-pre-fill-the-search-input-when-tapped-3-a-vertically-scrollable-results-grid-of-matching-reels-below-the-search-bar-each-result-card-shows-the-reel-thumbnail-media-the-category-badge-amber-pill-the-author-s-username-and-avatar-and-the-caption-snippet-4-tapping-a-result-card-navigates-to-the-reelspage-scrolled-to-that-reel-or-opens-a-detail-view-5-an-empty-state-message-when-no-reels-match-the-query-styled-consistently-with-the-automotive-theme",
      "title": "Add a Reels Search page at `frontend/src/pages/ReelsSearchPage.tsx`. The page must include: (1) a prominent search input bar styled with the app's dark asphalt/amber theme, (2) a row of quick-filter category pill buttons for the reel categories (Street, Stance, JDM, Drift, Build, Show, Track, Import) that pre-fill the search input when tapped, (3) a vertically scrollable results grid of matching reels below the search bar — each result card shows the reel thumbnail/media, the category badge (amber pill), the author's username and avatar, and the caption snippet, (4) tapping a result card navigates to the ReelsPage scrolled to that reel or opens a detail view, (5) an empty state message when no reels match the query, styled consistently with the automotive theme.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-register-the-reels-search-page-in-frontend-src-app-tsx-as-a-new-route-at-reels-search-add-a-search-icon-button-or-a-search-reels-entry-point-on-the-reelspage-frontend-src-pages-reelspage-tsx-such-as-a-search-icon-in-the-top-overlay-that-navigates-to-reels-search-also-add-a-search-reels-entry-point-accessible-from-the-discover-page-frontend-src-pages-discoverpage-tsx-tab-area-or-as-a-dedicated-reels-tab-within-the-existing-search-experience",
      "title": "Register the Reels Search page in `frontend/src/App.tsx` as a new route at `/reels-search`. Add a search icon button or a 'Search Reels' entry point on the ReelsPage (`frontend/src/pages/ReelsPage.tsx`) — such as a search icon in the top overlay — that navigates to `/reels-search`. Also add a 'Search Reels' entry point accessible from the Discover page (`frontend/src/pages/DiscoverPage.tsx`) tab area or as a dedicated 'Reels' tab within the existing search experience.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-editprofilemodal-frontend-src-components-editprofilemodal-tsx-to-include-a-profile-picture-upload-field-allow-the-user-to-select-an-image-file-from-their-device-show-a-circular-preview-of-the-selected-image-encode-it-as-base64-and-call-the-updateprofilepic-backend-function-on-save-display-the-uploaded-profile-picture-throughout-the-app-wherever-the-user-s-avatar-is-shown-profilepage-postcard-commentssheet-userlistitem-reelspage-etc",
      "title": "Update the EditProfileModal (frontend/src/components/EditProfileModal.tsx) to include a profile picture upload field. Allow the user to select an image file from their device, show a circular preview of the selected image, encode it as base64, and call the `updateProfilePic` backend function on save. Display the uploaded profile picture throughout the app wherever the user's avatar is shown (ProfilePage, PostCard, CommentsSheet, UserListItem, ReelsPage, etc.).",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-createreelpage-frontend-src-pages-createreelpage-tsx-to-include-a-native-file-input-that-explicitly-accepts-both-video-files-video-and-image-files-image-clearly-labeled-so-users-understand-they-can-upload-a-video-the-file-input-should-display-a-preview-of-the-selected-file-video-preview-using-an-html-video-element-for-video-files-image-preview-for-image-files-encode-the-selected-file-as-base64-and-submit-it-via-the-backend-createpost-mutation-s-mediadata-field-the-existing-reel-category-selector-and-caption-tags-fields-must-remain-intact",
      "title": "Update the CreateReelPage (frontend/src/pages/CreateReelPage.tsx) to include a native file input that explicitly accepts both video files (video/*) and image files (image/*), clearly labeled so users understand they can upload a video. The file input should display a preview of the selected file (video preview using an HTML <video> element for video files, image preview for image files). Encode the selected file as base64 and submit it via the backend createPost mutation's mediaData field. The existing reel category selector and caption/tags fields must remain intact.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-diagnose-and-fix-the-post-creation-flow-so-that-submitting-a-new-post-feed-post-reel-build-showcase-or-mechanic-question-from-any-creation-page-completes-successfully-instead-of-getting-stuck-in-a-perpetual-loading-state-investigate-the-usecreatepost-mutation-in-frontend-src-hooks-usequeries-ts-and-the-backend-createpost-function-in-backend-main-mo-to-identify-why-the-mutation-never-resolves-ensure-the-mutation-correctly-awaits-the-backend-call-handles-both-success-and-error-responses-exits-the-loading-state-in-all-cases-and-navigates-away-or-shows-a-success-error-message-on-completion",
      "title": "Diagnose and fix the post creation flow so that submitting a new post (Feed Post, Reel, Build Showcase, or Mechanic Question) from any creation page completes successfully instead of getting stuck in a perpetual loading state. Investigate the useCreatePost mutation in frontend/src/hooks/useQueries.ts and the backend createPost function in backend/main.mo to identify why the mutation never resolves. Ensure the mutation correctly awaits the backend call, handles both success and error responses, exits the loading state in all cases, and navigates away or shows a success/error message on completion.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-maximum-file-size-guard-on-the-createreelpage-frontend-src-pages-createreelpage-tsx-and-createfeedpostpage-frontend-src-pages-createfeedpostpage-tsx-file-inputs-before-encoding-the-selected-file-as-base64-check-its-size-against-the-icp-message-size-limit-approximately-2-mb-for-ingress-messages-if-the-file-exceeds-the-limit-immediately-clear-the-loading-state-reject-the-file-selection-and-display-a-clear-user-facing-error-message-explaining-the-size-limit-e-g-file-too-large-please-select-a-file-under-2-mb",
      "title": "Add a maximum file size guard on the CreateReelPage (frontend/src/pages/CreateReelPage.tsx) and CreateFeedPostPage (frontend/src/pages/CreateFeedPostPage.tsx) file inputs. Before encoding the selected file as base64, check its size against the ICP message size limit (approximately 2 MB for ingress messages). If the file exceeds the limit, immediately clear the loading state, reject the file selection, and display a clear user-facing error message explaining the size limit (e.g., 'File too large — please select a file under 2 MB').",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-perform-a-deep-audit-and-fix-of-the-entire-post-creation-flow-across-all-creation-pages-createfeedpostpage-createreelpage-createbuildpage-createmechanicquestionpage-trace-the-full-call-chain-from-the-submit-button-through-the-usecreatepost-mutation-in-frontend-src-hooks-usequeries-ts-to-the-backend-createpost-function-in-backend-main-mo-identify-and-fix-every-root-cause-preventing-the-mutation-from-resolving-including-but-not-limited-to-unhandled-promise-rejections-missing-await-statements-actor-call-failures-backend-traps-or-panics-incorrect-argument-serialization-e-g-optional-fields-candid-encoding-mismatches-and-any-error-paths-that-silently-swallow-exceptions-without-exiting-the-loading-state-the-fix-must-ensure-1-the-submit-button-exits-its-loading-disabled-state-in-all-outcomes-success-and-error-2-on-success-the-user-is-navigated-away-from-the-creation-page-and-the-relevant-feed-is-refreshed-3-on-error-a-clear-user-facing-error-message-is-shown-4-the-backend-createpost-function-does-not-trap-on-any-valid-input-and-returns-a-result-the-frontend-can-handle",
      "title": "Perform a deep audit and fix of the entire post creation flow across all creation pages (CreateFeedPostPage, CreateReelPage, CreateBuildPage, CreateMechanicQuestionPage). Trace the full call chain from the submit button through the useCreatePost mutation in frontend/src/hooks/useQueries.ts to the backend createPost function in backend/main.mo. Identify and fix every root cause preventing the mutation from resolving — including but not limited to: unhandled promise rejections, missing await statements, actor call failures, backend traps or panics, incorrect argument serialization (e.g., optional fields, Candid encoding mismatches), and any error paths that silently swallow exceptions without exiting the loading state. The fix must ensure: (1) the submit button exits its loading/disabled state in all outcomes (success and error), (2) on success the user is navigated away from the creation page and the relevant feed is refreshed, (3) on error a clear user-facing error message is shown, (4) the backend createPost function does not trap on any valid input and returns a result the frontend can handle.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-audit-the-usecreatepost-mutation-in-frontend-src-hooks-usequeries-ts-to-ensure-it-correctly-1-awaits-the-actor-createpost-call-2-inspects-the-returned-result-and-throws-if-it-is-an-err-variant-3-calls-onsuccess-with-cache-invalidation-when-the-call-succeeds-4-calls-onerror-with-a-user-visible-message-when-the-call-fails-and-5-always-exits-the-ispending-isloading-state-regardless-of-outcome-fix-any-issues-found",
      "title": "Audit the useCreatePost mutation in frontend/src/hooks/useQueries.ts to ensure it correctly: (1) awaits the actor.createPost call, (2) inspects the returned Result and throws if it is an #err variant, (3) calls onSuccess with cache invalidation when the call succeeds, (4) calls onError with a user-visible message when the call fails, and (5) always exits the isPending/isLoading state regardless of outcome. Fix any issues found.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-discover-tab-to-the-persistent-bottom-navigation-bar-in-frontend-src-components-bottomnav-tsx-the-tab-must-use-a-compass-or-search-icon-be-labelled-discover-and-navigate-to-discover-when-tapped-it-must-appear-alongside-the-existing-home-reels-events-and-profile-tabs",
      "title": "Add a 'Discover' tab to the persistent bottom navigation bar in frontend/src/components/BottomNav.tsx. The tab must use a compass or search icon, be labelled 'Discover', and navigate to '/discover' when tapped. It must appear alongside the existing Home, Reels, Events, and Profile tabs.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-marketplace-page-at-frontend-src-pages-marketplacepage-tsx-the-page-must-1-display-a-grid-list-of-all-marketplace-listings-fetched-from-the-backend-via-a-usegetalllistings-react-query-hook-2-each-listing-card-shows-the-seller-avatar-username-item-title-price-condition-badge-new-used-category-and-listing-image-3-include-a-prominent-list-item-for-sale-button-amber-orange-cta-styled-with-the-automotive-theme-that-opens-a-create-listing-form-or-navigates-to-a-create-listing-page-4-include-a-search-filter-bar-to-filter-listings-by-category-parts-wheels-audio-exterior-interior-other-5-empty-state-message-when-no-listings-exist",
      "title": "Create a Marketplace page at `frontend/src/pages/MarketplacePage.tsx`. The page must: (1) display a grid/list of all marketplace listings fetched from the backend via a `useGetAllListings` React Query hook, (2) each listing card shows the seller avatar, username, item title, price, condition badge (New/Used), category, and listing image, (3) include a prominent 'List Item for Sale' button (amber/orange CTA styled with the automotive theme) that opens a create-listing form or navigates to a create-listing page, (4) include a search/filter bar to filter listings by category (Parts, Wheels, Audio, Exterior, Interior, Other), (5) empty state message when no listings exist.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-create-listing-page-at-frontend-src-pages-createlistingpage-tsx-with-a-form-containing-title-text-input-description-textarea-price-text-input-condition-selector-new-used-category-selector-parts-wheels-audio-exterior-interior-other-and-a-native-file-input-for-an-image-accepts-image-max-1-5-mb-encodes-as-base64-data-url-shows-a-preview-on-submit-call-the-backend-createlisting-mutation-via-a-usecreatelisting-react-query-mutation-hook-on-success-invalidate-the-listings-cache-and-navigate-back-to-marketplace-on-error-show-a-user-facing-error-message-the-submit-button-must-exit-loading-state-in-all-outcomes",
      "title": "Create a Create Listing page at `frontend/src/pages/CreateListingPage.tsx` with a form containing: title (text input), description (textarea), price (text input), condition selector (New / Used), category selector (Parts / Wheels / Audio / Exterior / Interior / Other), and a native file input for an image (accepts image/*, max 1.5 MB, encodes as base64 data URL, shows a preview). On submit, call the backend `createListing` mutation via a `useCreateListing` React Query mutation hook. On success, invalidate the listings cache and navigate back to `/marketplace`. On error, show a user-facing error message. The submit button must exit loading state in all outcomes.",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-register-the-marketplace-route-in-frontend-src-app-tsx-at-marketplace-pointing-to-marketplacepage-tsx-and-the-create-listing-route-at-marketplace-create-pointing-to-createlistingpage-tsx-add-a-marketplace-entry-to-the-createpostsheet-frontend-src-components-createpostsheet-tsx-as-a-fifth-option-alongside-the-existing-four-content-types-navigating-to-marketplace-create-when-tapped-add-a-marketplace-shortcut-or-tab-entry-on-the-discover-page-frontend-src-pages-discoverpage-tsx-so-users-can-navigate-to-marketplace-from-the-discovery-experience",
      "title": "Register the Marketplace route in `frontend/src/App.tsx` at `/marketplace` pointing to `MarketplacePage.tsx`, and the Create Listing route at `/marketplace/create` pointing to `CreateListingPage.tsx`. Add a 'Marketplace' entry to the `CreatePostSheet` (`frontend/src/components/CreatePostSheet.tsx`) as a fifth option alongside the existing four content types, navigating to `/marketplace/create` when tapped. Add a 'Marketplace' shortcut or tab entry on the Discover page (`frontend/src/pages/DiscoverPage.tsx`) so users can navigate to `/marketplace` from the discovery experience.",
      "reqIds": [
        "REQ-61"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-usegetalllistings-react-query-query-hook-and-a-usecreatelisting-react-query-mutation-hook-in-frontend-src-hooks-usequeries-ts-usegetalllistings-calls-the-backend-getalllistings-function-and-returns-the-listings-array-usecreatelisting-calls-the-backend-createlisting-function-with-the-listing-fields-including-base64-imageurl-on-success-invalidates-the-getalllistings-cache-key",
      "title": "Add a `useGetAllListings` React Query query hook and a `useCreateListing` React Query mutation hook in `frontend/src/hooks/useQueries.ts`. `useGetAllListings` calls the backend `getAllListings` function and returns the listings array. `useCreateListing` calls the backend `createListing` function with the listing fields (including base64 imageUrl), on success invalidates the `getAllListings` cache key.",
      "reqIds": [
        "REQ-62"
      ],
      "version": 1
    },
    {
      "id": "feature-increase-the-maximum-allowed-file-size-for-reel-video-uploads-on-createreelpage-frontend-src-pages-createreelpage-tsx-from-the-current-1-5-2-mb-cap-to-at-least-10-mb-update-the-file-size-validation-guard-so-that-files-up-to-10-mb-are-accepted-and-update-the-user-facing-error-message-to-reflect-the-new-limit-e-g-file-too-large-please-select-a-file-under-10-mb-the-video-preview-base64-encoding-and-submission-flow-must-continue-to-work-correctly-for-larger-files",
      "title": "Increase the maximum allowed file size for reel/video uploads on CreateReelPage (frontend/src/pages/CreateReelPage.tsx) from the current ~1.5–2 MB cap to at least 10 MB. Update the file size validation guard so that files up to 10 MB are accepted, and update the user-facing error message to reflect the new limit (e.g., 'File too large — please select a file under 10 MB'). The video preview, base64 encoding, and submission flow must continue to work correctly for larger files.",
      "reqIds": [
        "REQ-63"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Car photo/video feed with likes and comments",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Reels-style short video feature for car content",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Follow/unfollow system between users",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Direct messaging (chat) between users",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "User profiles with car info and posts",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Mechanics help section for Q&A and advice",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Build showcase pages with photo galleries",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Car meet events page for browsing and posting events",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Discovery/explore page for finding users and content",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Bug checking and fixes across all features",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Implement a backend data model and actor supporting: users (id, username, displayName, bio, profilePicUrl, carInfo, followersCount, followingCount, createdAt), posts (id, authorId, imageUrl, caption, tags, likesCount, commentsCount, createdAt, postType: 'feed' | 'reel' | 'build' | 'mechanic'), comments (id, postId, authorId, text, createdAt), likes (userId, postId), follows (followerId, followeeId), messages (id, senderId, receiverId, text, createdAt), events (id, organizerId, title, description, location, date, imageUrl, attendeesCount), and buildShowcases (id, authorId, title, description, imageUrls, specs, createdAt). Provide full CRUD operations for all entities.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Implement a mock/demo user session system (no Internet Identity required for demo) that pre-populates the app with at least 6 realistic demo users with car profiles, 15+ demo posts across all content types (feed, reels, builds, mechanic Q&A), 3 demo events, and several follows/messages. This allows the app to be immediately usable and visually rich on first load.",
      "reqIds": [
        "REQ-15"
      ],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Add a landing/login page with a login button that gates access to the app, featuring a modified import car as the background image",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Add an aftermarket car parts advertisement/link on each page pointing to https://ebay.com/inf/revreel?mkcid=1&mkrid=711-53200-19255-0&siteid=0&campid=5339143418&toolid=80008&mkevt=1",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Rename the app display name shown at the top of the page from 'CarGram' to 'RevReel' (or the preferred rev-related name)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Add a Marketplace page where users can list, browse, and inquire about car parts and vehicles for sale",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Allow users to delete their own posts and reels from the feed, reels page, and their profile",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Add a Marketplace page where users can create, browse, and view listings for car parts and vehicles for sale. Each listing card shows: seller avatar, username, item title, price, condition, description, at least one image (via URL input), and a contact/inquiry button. Include a 'Create Listing' button that opens a form with fields for title, description, price, condition (new/used), category (parts/wheels/audio/exterior/interior/other), and image URL. Listings are persisted in the backend. Add a 'Marketplace' tab or entry point accessible from the bottom navigation or Discover page.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Extend the backend data model to support marketplace listings with fields: id, authorId, title, description, price (text), condition ('new' | 'used'), category (text), imageUrl, createdAt, and a sold flag. Expose CRUD operations: createListing, getListing, getAllListings, updateListing, deleteListing (owner only).",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Add delete functionality to posts and reels: on each post card in the Home Feed, and on each reel in the Reels page, show a delete button (e.g., a trash icon or a three-dot menu option) that is only visible to the post's author. When tapped, prompt for confirmation, then call the backend delete function and remove the post from the UI. Also surface this delete option on the user's own profile page tabs (Posts, Reels, Builds).",
      "reqIds": [
        "REQ-22"
      ],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Expose a deletePost function in the backend that accepts a post ID, verifies the caller is the post's author, and permanently removes the post record (and associated likes/comments if applicable).",
      "reqIds": [
        "REQ-23"
      ],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Enhance the existing Mechanics Help page (MechanicsPage.tsx and MechanicThreadPage.tsx) to support image attachments on questions: add an optional image URL field to the CreateMechanicQuestionPage form, display the image on the question thread page when present, and show a car model/year field on the creation form.",
      "reqIds": [
        "REQ-24"
      ],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Enhance the existing Build Showcase section: update the CreateBuildPage form to support multiple image URLs (allow adding/removing image URL inputs dynamically, minimum 1, up to 6). Display all images in a swipeable carousel on the BuildDetailPage. Add a delete button on build cards visible only to the build's author.",
      "reqIds": [
        "REQ-25"
      ],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Add a 'Marketplace' navigation entry to the BottomNav or the CreatePostSheet so users can easily access the Marketplace page. Update the route in App.tsx to include the /marketplace route. Add a 'List Item for Sale' option in the CreatePostSheet bottom sheet alongside the existing four content types.",
      "reqIds": [
        "REQ-26"
      ],
      "status": "pending"
    },
    {
      "id": "AR-38",
      "summary": "Add a follow/unfollow button prominently on the user profile page, and restrict direct messaging (chat) so that users can only message each other if they follow one another (followers-only chat).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-41",
      "summary": "Expose a backend query in main.mo that returns the list of principal IDs that a given user follows (getFollowing) and the list of principal IDs that follow a given user (getFollowers), if not already available. Also ensure a query exists to check whether the current caller follows a specific user (isFollowing). These are needed to power the followers-only chat restriction and the follow button state on the profile page.",
      "reqIds": [
        "REQ-29"
      ],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Allow users to upload their own videos/reels and profile pictures (actual file upload, not just URL input)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-43",
      "summary": "Add reel category/tag selection when creating a reel — options like Street, Stance, JDM, Drift, etc. Display the category on the reel.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-44",
      "summary": "Extend the backend Post data model to include an optional `reelCategory` field (text) on posts of type `reel`. Add or update the `createPost` function to accept this optional field. Store reel categories such as 'Street', 'Stance', 'JDM', 'Drift', 'Build', 'Show', 'Track', 'Import' alongside the post record.",
      "reqIds": [
        "REQ-30"
      ],
      "status": "pending"
    },
    {
      "id": "AR-45",
      "summary": "Extend the backend UserProfile data model to include a `profilePicData` field for storing uploaded profile picture content (as Blob or base64-encoded text). Add an `updateProfilePic` function that accepts the image data and updates the caller's profile picture, replacing the existing URL-only approach.",
      "reqIds": [
        "REQ-31"
      ],
      "status": "pending"
    },
    {
      "id": "AR-46",
      "summary": "Extend the backend Post data model to support storing uploaded media data (image or video as base64-encoded text or Blob) directly on the post record alongside the existing imageUrl field. Update createPost to accept an optional mediaData field. For reel posts, allow video data to be stored. Ensure deletePost (already implemented) also removes associated media data.",
      "reqIds": [
        "REQ-32"
      ],
      "status": "pending"
    },
    {
      "id": "AR-47",
      "summary": "Verify and reinforce that the backend `deletePost` function correctly handles all post types (feed, reel, build, mechanic) — it must verify the caller is the post's author before deleting, and remove associated likes and comments from state maps along with the post record.",
      "reqIds": [
        "REQ-38"
      ],
      "status": "pending"
    },
    {
      "id": "AR-48",
      "summary": "Add a search feature for reels — allow users to search for reels by category/interest tags (JDM, Drift, Stance, etc.) and by username, displaying matching reels in a searchable results view.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-49",
      "summary": "Add a backend query `searchReels` that accepts a search string and returns all posts of type `reel` whose `reelCategory` (case-insensitive) or author's username/displayName contains the search string. The function must be callable by authenticated users and return the same Post record shape already used by other post queries.",
      "reqIds": [
        "REQ-43"
      ],
      "status": "pending"
    },
    {
      "id": "AR-51",
      "summary": "Extend the backend UserProfile data model in backend/main.mo to include a `profilePicData` field (as ?Text) for storing base64-encoded profile picture data. Add an `updateProfilePic` function that accepts the base64 image string and updates the caller's profile record. Ensure that all profile query functions return the `profilePicData` field so the frontend can render it as the user's avatar.",
      "reqIds": [
        "REQ-48"
      ],
      "status": "pending"
    },
    {
      "id": "AR-53",
      "summary": "Audit the backend createPost function in backend/main.mo for any conditions that could cause it to trap (panic) rather than return a structured error — such as: out-of-bounds array access, division by zero, assertion failures, or calls to Debug.trap. Replace any such traps with graceful #err result variants so that the frontend always receives a response and is never left awaiting an unresolved call.",
      "reqIds": [
        "REQ-53"
      ],
      "status": "pending"
    },
    {
      "id": "AR-54",
      "summary": "Fix missing Discovery/Explore page — the page is not rendering or accessible from the bottom navigation",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-55",
      "summary": "Ensure the Discover page (frontend/src/pages/DiscoverPage.tsx) is correctly registered as a route in frontend/src/App.tsx at the path '/discover' and is fully accessible to authenticated users.",
      "reqIds": [
        "REQ-55"
      ],
      "status": "pending"
    },
    {
      "id": "AR-57",
      "summary": "Verify that DiscoverPage (frontend/src/pages/DiscoverPage.tsx) renders correctly: it must display a search bar, suggested users with follow buttons, and a tabbed content grid (All, Builds, Reels, Mechanics, Events). Fix any runtime errors, broken imports, or missing data-fetching hooks that prevent the page from rendering.",
      "reqIds": [
        "REQ-57"
      ],
      "status": "pending"
    },
    {
      "id": "AR-58",
      "summary": "Ensure the backend `main.mo` actor exposes full marketplace listing CRUD: `createListing` (accepts title, description, price as Text, condition as 'new'|'used', category as Text, imageUrl as Text), `getAllListings` (returns all listings), `getListing` (returns a single listing by ID), `deleteListing` (owner-only, removes the listing record). Each listing record must include: id (Nat), authorId (Principal), title, description, price, condition, category, imageUrl, createdAt (Int nanoseconds), and a sold flag (Bool). If this data model already exists in main.mo, verify it is complete and fix any missing fields or functions.",
      "reqIds": [
        "REQ-58"
      ],
      "status": "pending"
    },
    {
      "id": "AR-59",
      "summary": "Increase the file size limit for reel/video uploads to support larger files and longer reels beyond the current ~2 MB cap",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-61",
      "summary": "Update the backend createPost function in backend/main.mo to accept larger mediaData payloads. Ensure the Text field used to store base64-encoded media data on post records does not impose an artificially low size cap, and that the function does not trap or return an error for media payloads up to the ICP ingress message limit (~2 MB per call). If chunked or asset canister storage is not feasible, document the effective limit in a comment but ensure the frontend and backend limits are consistent so users are not shown conflicting errors.",
      "reqIds": [
        "REQ-64"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "CarGram",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}